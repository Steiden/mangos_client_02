"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{5120:(t,e,r)=>{r.d(e,{i:()=>s,k:()=>o,me:()=>i});var a=r(676),n=r(776);async function s(t){try{return(await a.FH.post(a.vZ.login,t,(0,a.zP)())).data}catch(t){return(0,n.N)(t)}}async function o(t){try{return(await a.FH.post(a.vZ.register,t,(0,a.zP)())).data}catch(t){return(0,n.N)(t)}}async function i(t){try{return(await a.FH.get(a.vZ.me,(0,a.zP)(t))).data}catch(t){return(0,n.N)(t)}}},2673:(t,e,r)=>{r.d(e,{vt:()=>i,Jt:()=>o,yo:()=>c});var a=r(676),n=r(6613),s=r(776);async function o(t,e){try{return(await a.FH.get("".concat(n.v.organizations,"/").concat(t),(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}async function i(t,e){try{return(await a.FH.post(n.v.organizations,t,(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}async function c(t,e,r){try{return(await a.FH.put("".concat(n.v.organizations,"/").concat(t),e,(0,a.zP)(r))).data}catch(t){return(0,s.N)(t)}}},2607:(t,e,r)=>{r.d(e,{TF:()=>i,vt:()=>o});var a=r(676),n=r(6613),s=r(776);async function o(t,e){try{return(await a.FH.post(n.v.project_members,t,(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}async function i(t,e){try{return(await a.FH.delete("".concat(n.v.project_members,"/").concat(t),(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}},9216:(t,e,r)=>{r.d(e,{vt:()=>a.vt});var a=r(2607)},9459:(t,e,r)=>{r.d(e,{vt:()=>i,Jt:()=>o,yo:()=>c});var a=r(676),n=r(6613),s=r(776);async function o(t,e){try{return(await a.FH.get("".concat(n.v.projects,"/").concat(t),(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}async function i(t,e){try{return(await a.FH.post(n.v.projects,t,(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}async function c(t,e,r){try{return(await a.FH.put("".concat(n.v.projects,"/").concat(t),e,(0,a.zP)(r))).data}catch(t){return(0,s.N)(t)}}r(9216)},4393:(t,e,r)=>{r.d(e,{vt:()=>i,vS:()=>o});var a=r(676),n=r(6613),s=r(776);async function o(t){try{return(await a.FH.get(n.v.categories,(0,a.zP)(t))).data}catch(t){return(0,s.N)(t)}}async function i(t,e){try{return(await a.FH.post(n.v.categories,t,(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}},5681:(t,e,r)=>{r.d(e,{vt:()=>o});var a=r(676),n=r(6613),s=r(776);async function o(t,e){try{return(await a.FH.post(n.v.tags,t,(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}},2499:(t,e,r)=>{r.d(e,{TF:()=>i,vt:()=>o});var a=r(676),n=r(6613),s=r(776);async function o(t,e){try{return(await a.FH.post(n.v.task_members,t,(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}async function i(t,e){try{return(await a.FH.delete("".concat(n.v.task_members,"/").concat(t),(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}},3804:(t,e,r)=>{r.d(e,{vt:()=>a.vt});var a=r(2499)},114:(t,e,r)=>{r.d(e,{vS:()=>o});var a=r(676),n=r(6613),s=r(776);async function o(t){try{return(await a.FH.get(n.v.task_priorities,(0,a.zP)(t))).data}catch(t){return(0,s.N)(t)}}},2756:(t,e,r)=>{r.d(e,{vt:()=>i,Jt:()=>o,TF:()=>u,yo:()=>c});var a=r(676),n=r(6613),s=r(776);async function o(t,e){try{return(await a.FH.get("".concat(n.v.tasks,"/").concat(t),(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}async function i(t,e){try{return(await a.FH.post(n.v.tasks,t,(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}async function c(t,e,r){try{return(await a.FH.put("".concat(n.v.tasks,"/").concat(t),e,(0,a.zP)(r))).data}catch(t){return(0,s.N)(t)}}async function u(t,e){try{return(await a.FH.delete("".concat(n.v.tasks,"/").concat(t),(0,a.zP)(e))).data}catch(t){return(0,s.N)(t)}}r(4393),r(5681),r(3804),r(114)},2562:(t,e,r)=>{r.d(e,{FH:()=>s,J7:()=>n});var a=r(2651),n=function(t){return t[t.in_progress=1]="in_progress",t[t.done=2]="done",t[t.failed=3]="failed",t}({});let s=a.A.create({baseURL:"http://127.0.0.1:8000/api",headers:{Accept:"application/json"}})},6613:(t,e,r)=>{r.d(e,{v:()=>n});var a=function(t){return t.login="login",t.register="register",t.refresh="refresh",t.logout="logout",t.me="me",t.activity_types="activity_types",t.categories="categories",t.divisions="divisions",t.execution_statuses="execution_statuses",t.notifications="notifications",t.organizations="organizations",t.organization_employees="organization_employees",t.posts="posts",t.projects="projects",t.project_members="project_members",t.roles="roles",t.tags="tags",t.tasks="tasks",t.task_members="task_members",t.task_priorities="task_priorities",t.task_tags="task_tags",t.users="users",t}(a||{});let n={login:"/auth/login",register:"/auth/register",refresh:"/auth/refresh",logout:"/auth/logout",me:"/auth/me",activity_types:"/activity_types",categories:"/categories",divisions:"/divisions",execution_statuses:"/execution_statuses",notifications:"/notifications",organizations:"/organizations",organization_employees:"/organization_employees",posts:"/posts",projects:"/projects",project_members:"/project_members",roles:"/roles",tags:"/tags",tasks:"/tasks",task_members:"/task_members",task_priorities:"/task_priorities",task_tags:"/task_tags",users:"/users"}},776:(t,e,r)=>{r.d(e,{N:()=>a});function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{success:!1,error:"string"==typeof t?t:t instanceof Error?t.message:"",message:e}}},676:(t,e,r)=>{r.d(e,{FH:()=>s.FH,vZ:()=>n.v,zP:()=>a});let a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{headers:{Authorization:"Bearer "+t}}};var n=r(6613),s=r(2562)},7566:(t,e,r)=>{r.d(e,{$:()=>u,r:()=>c});var a=r(5155),n=r(2115),s=r(4707),o=r(1027),i=r(7549);let c=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((t,e)=>{let{className:r,variant:n,size:o,asChild:u=!1,...d}=t,l=u?s.DX:"button";return(0,a.jsx)(l,{className:(0,i.cn)(c({variant:n,size:o,className:r})),ref:e,...d})});u.displayName="Button"},4003:(t,e,r)=>{r.d(e,{MangosContext:()=>l,MangosContextProvider:()=>v,U:()=>y,useOrganizationContext:()=>f,useProjectContext:()=>p,useUserContext:()=>g});var a=r(5155),n=r(2115),s=r(5120),o=r(6390),i=r(6046),c=r(2673),u=r(9459),d=r(2756);let l=(0,n.createContext)(null);function v(t){let{children:e}=t,[,r]=(0,o.Mj)("user",null),[c,u]=(0,o.Mj)("organization",null),[d,v]=(0,o.Mj)("project",null),[g,f]=(0,o.Mj)("task",null),p=(0,i.usePathname)(),y=(0,i.useRouter)(),[h]=(0,o.Mj)("token",""),[m,z]=(0,n.useState)({user:null,organization:null,project:null,task:null});return(0,n.useEffect)(()=>{z(t=>({...t,organization:c,project:d,task:g}))},[]),(0,n.useEffect)(()=>{(async function(){let t=await (0,s.me)(h);if(!t.success){z(t=>({...t,user:null,organization:null,project:null})),r(null),u(null),v(null),"/auth/login"!==p&&"/auth/register"!==p&&y.push("/auth/login");return}z(e=>({...e,user:t.data}))})()},[h]),(0,n.useEffect)(()=>{m.user&&r(m.user),m.organization&&u(m.organization),m.project&&v(m.project),m.task&&f(m.task)},[m]),(0,a.jsx)(l.Provider,{value:(0,n.useMemo)(()=>({data:m,setData:z}),[m]),children:e})}function g(){let[t]=(0,o.Mj)("token",""),e=(0,n.useContext)(l);if(!e)throw Error("useUserContext must be used within a UserProvider");let{data:r,setData:a}=e;async function i(){let e=await (0,s.me)(t);e.success&&a(t=>({...t,user:e.data}))}return{user:r.user,setUser:t=>a(e=>({...e,user:t})),updateUser:i}}function f(){let[t]=(0,o.Mj)("token",""),e=(0,n.useContext)(l);if(!e)throw Error("useOrganizationContext must be used within a OrganizationProvider");let{data:r,setData:a}=e;async function s(){var e,n;if(!(null===(e=r.organization)||void 0===e?void 0:e.id))return;let s=await (0,c.Jt)(null===(n=r.organization)||void 0===n?void 0:n.id,t);s.success&&a(t=>({...t,organization:s.data}))}return{organization:r.organization,setOrganization:t=>a(e=>({...e,organization:t})),updateOrganization:s}}function p(){let[t]=(0,o.Mj)("token",""),e=(0,n.useContext)(l);if(!e)throw Error("useProjectContext must be used within a ProjectProvider");let{data:r,setData:a}=e;async function s(){var e,n;if(!(null===(e=r.project)||void 0===e?void 0:e.id))return;let s=await (0,u.Jt)(null===(n=r.project)||void 0===n?void 0:n.id,t);s.success&&a(t=>({...t,project:s.data}))}return{project:r.project,setProject:t=>a(e=>({...e,project:t})),updateProject:s}}function y(){let[t]=(0,o.Mj)("token",""),e=(0,n.useContext)(l);if(!e)throw Error("useTaskContext must be used within a TaskProvider");let{data:r,setData:a}=e;async function s(){var e,n;if(!(null===(e=r.task)||void 0===e?void 0:e.id))return;let s=await (0,d.Jt)(null===(n=r.task)||void 0===n?void 0:n.id,t);s.success&&a(t=>({...t,task:s.data}))}return{task:r.task,setTask:t=>a(e=>({...e,task:t})),updateTask:s}}},5432:(t,e,r)=>{r.d(e,{Om:()=>a.useProjectContext,Wf:()=>a.useOrganizationContext,ur:()=>a.useUserContext});var a=r(4003)},6870:(t,e,r)=>{r.d(e,{dj:()=>v});var a=r(2115);let n=0,s=new Map,o=t=>{if(s.has(t))return;let e=setTimeout(()=>{s.delete(t),d({type:"REMOVE_TOAST",toastId:t})},1e6);s.set(t,e)},i=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:r}=e;return r?o(r):t.toasts.forEach(t=>{o(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===r||void 0===r?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},c=[],u={toasts:[]};function d(t){u=i(u,t),c.forEach(t=>{t(u)})}function l(t){let{...e}=t,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:t=>{t||a()}}}),{id:r,dismiss:a,update:t=>d({type:"UPDATE_TOAST",toast:{...t,id:r}})}}function v(){let[t,e]=a.useState(u);return a.useEffect(()=>(c.push(e),()=>{let t=c.indexOf(e);t>-1&&c.splice(t,1)}),[t]),{...t,toast:l,dismiss:t=>d({type:"DISMISS_TOAST",toastId:t})}}},7549:(t,e,r)=>{r.d(e,{cn:()=>s});var a=r(3463),n=r(9795);function s(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,n.QP)((0,a.$)(e))}}}]);