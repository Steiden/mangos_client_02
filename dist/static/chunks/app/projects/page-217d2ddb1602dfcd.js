(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{7661:(e,t,r)=>{Promise.resolve().then(r.bind(r,8128))},2660:(e,t,r)=>{"use strict";r.d(t,{vS:()=>c});var a=r(676),s=r(6613),l=r(776);async function c(e){try{return(await a.FH.get(s.v.execution_statuses,(0,a.zP)(e))).data}catch(e){return(0,l.N)(e)}}},8128:(e,t,r)=>{"use strict";r.d(t,{Projects:()=>_});var a=r(5155),s=r(3463),l=r(6109),c=r.n(l),n=r(2115),d=r(7549);let o=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,d.cn)("w-full caption-bottom text-sm",r),...s})})});o.displayName="Table";let i=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,d.cn)("[&_tr]:border-b",r),...s})});i.displayName="TableHeader";let u=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,d.cn)("[&_tr:last-child]:border-0",r),...s})});u.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let m=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});m.displayName="TableRow";let f=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,d.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});f.displayName="TableHead";let x=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,d.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});x.displayName="TableCell";let h=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",r),...s})});h.displayName="TableCaption";var j=r(5432),p=r(2660),N=r(6390),b=r(7566),v=r(6046),w=r(9459),y=r(6870);let _=()=>{var e;let{toast:t}=(0,y.dj)(),r=(0,v.useRouter)(),[l]=(0,N.Mj)("token",""),{setProject:d}=(0,j.Om)(),{organization:_}=(0,j.Wf)(),[g,k]=(0,n.useState)([]),R=async e=>{let r=await (0,w.Jt)(e,l);return r.success?r.data:(t({title:"Выбор проекта",description:"Произошла ошибка выбора проекта. Попробуйте позже"}),null)};return(0,n.useEffect)(()=>{(async function(){let e=await (0,p.vS)(l);if(!e.success){console.error("Error fetching execution statuses:",e.error);return}k(e.data)})()},[]),(0,a.jsxs)("section",{className:(0,s.A)("std-page",c().projects),children:[(0,a.jsx)("h1",{className:(0,s.A)("std-h1",c().projects__title),children:"Проекты"}),(0,a.jsxs)("div",{className:(0,s.A)("std-container","std-page__content"),children:[(0,a.jsx)(b.$,{variant:"outline",className:"self-end",onClick:()=>r.push("/projects/create"),children:"Создать проект"}),(0,a.jsxs)(o,{children:[(0,a.jsxs)(h,{children:["Список проектов организации ",null==_?void 0:_.name]}),(0,a.jsx)(i,{children:(0,a.jsxs)(m,{children:[(0,a.jsx)(f,{className:"w-[50px]",children:"#"}),(0,a.jsx)(f,{children:"Название"}),(0,a.jsx)(f,{children:"Статус выполнения"}),(0,a.jsx)(f,{className:"text-right",children:"Создано"})]})}),(0,a.jsx)(u,{children:null==_?void 0:null===(e=_.projects)||void 0===e?void 0:e.map((e,t)=>{var s;return(0,a.jsxs)(m,{className:"cursor-pointer",onClick:async()=>{d(await R(e.id)),r.push("/projects/".concat(e.id))},children:[(0,a.jsx)(x,{className:"font-medium",children:t+1}),(0,a.jsx)(x,{children:e.name}),(0,a.jsx)(x,{children:null===(s=g.find(t=>t.id===e.execution_status_id))||void 0===s?void 0:s.caption}),(0,a.jsx)(x,{className:"text-right",children:new Date(e.created_at).toLocaleDateString()})]},e.id)})})]})]})]})}},6109:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[614,478,651,9,778,441,517,358],()=>t(7661)),_N_E=e.O()}]);