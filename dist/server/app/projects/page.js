(()=>{var e={};e.id=893,e.ids=[893],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},6349:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>l});var s=r(70260),a=r(28203),o=r(25155),n=r.n(o),i=r(67292),c={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(t,c);let l=["",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,65590)),"D:\\Mangos\\mangos_client_02\\src\\app\\projects\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,35597)),"D:\\Mangos\\mangos_client_02\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,50042)),"D:\\Mangos\\mangos_client_02\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\Mangos\\mangos_client_02\\src\\app\\projects\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/projects/page",pathname:"/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},11162:(e,t,r)=>{Promise.resolve().then(r.bind(r,82515))},51330:(e,t,r)=>{Promise.resolve().then(r.bind(r,52458))},52458:(e,t,r)=>{"use strict";r.d(t,{Projects:()=>y});var s=r(45512),a=r(82281),o=r(2405),n=r.n(o),i=r(58009),c=r(2743);let l=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,c.cn)("w-full caption-bottom text-sm",e),...t})}));l.displayName="Table";let d=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("thead",{ref:r,className:(0,c.cn)("[&_tr]:border-b",e),...t}));d.displayName="TableHeader";let p=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tbody",{ref:r,className:(0,c.cn)("[&_tr:last-child]:border-0",e),...t}));p.displayName="TableBody",i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tfoot",{ref:r,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let u=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tr",{ref:r,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));u.displayName="TableRow";let x=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("th",{ref:r,className:(0,c.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));x.displayName="TableHead";let m=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("td",{ref:r,className:(0,c.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));m.displayName="TableCell";let f=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("caption",{ref:r,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",e),...t}));f.displayName="TableCaption";var h=r(84514),j=r(51169),b=r(28473),g=r(24540),v=r(79334),_=r(34734),w=r(6736);let y=()=>{let{toast:e}=(0,w.dj)(),t=(0,v.useRouter)(),[r]=(0,b.Mj)("token",""),{setProject:o}=(0,h.Om)(),{organization:c}=(0,h.Wf)(),[y,N]=(0,i.useState)([]),P=async t=>{let s=await (0,_.Jt)(t,r);return s.success?s.data:(e({title:"Выбор проекта",description:"Произошла ошибка выбора проекта. Попробуйте позже"}),null)};return(0,i.useEffect)(()=>{(async function(){let e=await (0,j.vS)(r);if(!e.success){console.error("Error fetching execution statuses:",e.error);return}N(e.data)})()},[]),(0,s.jsxs)("section",{className:(0,a.A)("std-page",n().projects),children:[(0,s.jsx)("h1",{className:(0,a.A)("std-h1",n().projects__title),children:"Проекты"}),(0,s.jsxs)("div",{className:(0,a.A)("std-container","std-page__content"),children:[(0,s.jsx)(g.$,{variant:"outline",className:"self-end",onClick:()=>t.push("/projects/create"),children:"Создать проект"}),(0,s.jsxs)(l,{children:[(0,s.jsxs)(f,{children:["Список проектов организации ",c?.name]}),(0,s.jsx)(d,{children:(0,s.jsxs)(u,{children:[(0,s.jsx)(x,{className:"w-[50px]",children:"#"}),(0,s.jsx)(x,{children:"Название"}),(0,s.jsx)(x,{children:"Статус выполнения"}),(0,s.jsx)(x,{className:"text-right",children:"Создано"})]})}),(0,s.jsx)(p,{children:c?.projects?.map((e,r)=>s.jsxs(u,{className:"cursor-pointer",onClick:async()=>{o(await P(e.id)),t.push(`/projects/${e.id}`)},children:[s.jsx(m,{className:"font-medium",children:r+1}),s.jsx(m,{children:e.name}),s.jsx(m,{children:y.find(t=>t.id===e.execution_status_id)?.caption}),s.jsx(m,{className:"text-right",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})]})]})}},51169:(e,t,r)=>{"use strict";r.d(t,{vS:()=>n});var s=r(98261),a=r(72043),o=r(36092);async function n(e){try{return(await s.FH.get(a.v.execution_statuses,(0,s.zP)(e))).data}catch(e){return(0,o.N)(e)}}},2405:e=>{e.exports={}},82515:(e,t,r)=>{"use strict";r.d(t,{Projects:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call Projects() from the server but Projects is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Mangos\\mangos_client_02\\src\\_pages\\Projects\\Projects.tsx","Projects")},65590:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(62740),a=r(82515);function o(){return(0,s.jsx)(a.Projects,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,812,85],()=>r(6349));module.exports=s})();