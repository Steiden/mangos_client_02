(()=>{var e={};e.id=310,e.ids=[310],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},23191:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var r=a(70260),s=a(28203),n=a(25155),i=a.n(n),o=a(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);a.d(t,d);let l=["",{children:["organizations",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3521)),"D:\\Mangos\\mangos_client_02\\src\\app\\organizations\\create\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,35597)),"D:\\Mangos\\mangos_client_02\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,50042)),"D:\\Mangos\\mangos_client_02\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\Mangos\\mangos_client_02\\src\\app\\organizations\\create\\page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/organizations/create/page",pathname:"/organizations/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},38154:(e,t,a)=>{Promise.resolve().then(a.bind(a,33492))},1202:(e,t,a)=>{Promise.resolve().then(a.bind(a,10992))},10992:(e,t,a)=>{"use strict";a.d(t,{OrganizationsCreate:()=>v});var r=a(45512),s=a(82281),n=a(95972),i=a.n(n),o=a(24540),d=a(74864),l=a(58009),c=a(1618),u=a(28473),p=a(6736),m=a(91185),x=a(84514),f=a(20951),h=a(79334),y=a(53568);let g=[{type:"text",id:"full_name",name:"full_name",placeholder:"Полное название организации"},{type:"text",id:"name",name:"name",placeholder:"Название организации"},{type:"textarea",id:"description",name:"description",placeholder:"Описание организации"},{type:"text",id:"address",name:"address",placeholder:"Адрес организации"},{type:"tel",id:"phone",name:"phone",placeholder:"Телефон организации"},{type:"combobox",id:"activity_type_id",name:"activity_type_id",placeholder:"Тип активности",data_name:"activityTypes"}],v=()=>{let e=(0,h.useRouter)(),{setOrganization:t}=(0,x.Wf)(),{user:a,updateUser:n}=(0,x.ur)(),{toast:v}=(0,p.dj)(),[b]=(0,u.Mj)("token",""),[_,w]=(0,l.useState)({description:"",full_name:"",name:"",address:"",phone:"",activity_type_id:0,user_id:0}),[j,N]=(0,l.useState)({activityTypes:[]});(0,l.useEffect)(()=>{(async function(){let e=await (0,m.vS)(b);if(!e.success){v({variant:"destructive",title:"Загрузка страницы",description:"Ошибка загрузки списка видов активности. Попробуйте позже"});return}N({...j,activityTypes:e.data})})()},[]);let z=async()=>{_.user_id=a?.id;let e=await (0,c.vt)(_,b);return e.success?e.data:(v({variant:"destructive",title:"Создание организации",description:"Ошибка создания организации. Попробуйте позже"}),null)},P=async e=>{let t={organization_id:e,user_id:a?.id},r=await (0,f.vt)(t,b);return r.success?r.data:(v({variant:"destructive",title:"Привязка к организации",description:"Ошибка привязки к организации. Попробуйте позже"}),null)},C=async a=>{a.preventDefault();let r=await z();r&&await P(r.id)&&(v({title:"Создание организации",description:"Организация успешно создана"}),t(r),n(),e.push("/"))};return(0,r.jsxs)("section",{className:(0,s.A)("std-center",i()["organizations-create"]),children:[(0,r.jsx)("h1",{className:(0,s.A)("std-h1",i()["organizations-create__title"]),children:"Создание организации"}),(0,r.jsxs)("form",{className:(0,s.A)(i()["organizations-create__form"]),onSubmit:C,children:[g.map(e=>(0,r.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,r.jsx)(d.J,{htmlFor:e.name,children:e.placeholder}),(0,y.h)(e,t=>w({..._,[e.name]:t}),j)]},e.id)),(0,r.jsx)(o.$,{variant:"outline",type:"submit",className:(0,s.A)("std-button",i()["organizations-create__button"]),children:"Создать"})]})]})}},91185:(e,t,a)=>{"use strict";a.d(t,{vS:()=>i});var r=a(98261),s=a(72043),n=a(36092);async function i(e){try{return(await r.FH.get(s.v.activity_types,(0,r.zP)(e))).data}catch(e){return(0,n.N)(e)}}},20951:(e,t,a)=>{"use strict";a.d(t,{TF:()=>d,vt:()=>i,yo:()=>o});var r=a(98261),s=a(72043),n=a(36092);async function i(e,t){try{return(await r.FH.post(s.v.organization_employees,e,(0,r.zP)(t))).data}catch(e){return(0,n.N)(e)}}async function o(e,t,a){try{return(await r.FH.put(`${s.v.organization_employees}/${e}`,t,(0,r.zP)(a))).data}catch(e){return(0,n.N)(e)}}async function d(e,t){try{return(await r.FH.delete(`${s.v.organization_employees}/${e}`,(0,r.zP)(t))).data}catch(e){return(0,n.N)(e)}}},53568:(e,t,a)=>{"use strict";a.d(t,{h:()=>v});var r=a(45512),s=a(58009),n=a(47085),i=a(45723),o=a(44195),d=a(24540),l=a(52706),c=a(99905),u=a(50983),p=a(2743);function m({className:e,classNames:t,showOutsideDays:a=!0,...s}){return(0,r.jsx)(u.hv,{showOutsideDays:a,className:(0,p.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,p.cn)((0,d.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:(0,p.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===s.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,p.cn)((0,d.r)({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...e})=>(0,r.jsx)(l.A,{className:"h-4 w-4"}),IconRight:({...e})=>(0,r.jsx)(c.A,{className:"h-4 w-4"})},...s})}m.displayName="Calendar";var x=a(55397);function f({value:e,onChange:t}){let[a,l]=s.useState(e);return(0,r.jsxs)(x.AM,{children:[(0,r.jsx)(x.Wv,{asChild:!0,children:(0,r.jsxs)(d.$,{variant:"outline",className:(0,o.cn)("w-[240px] justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[(0,r.jsx)(i.A,{}),a?(0,n.GP)(a,"PPP"):(0,r.jsx)("span",{children:"Выберите дату"})]})}),(0,r.jsx)(x.hl,{className:"w-auto p-0",align:"start",children:(0,r.jsx)(m,{mode:"single",selected:a||void 0,onSelect:e=>{l(e||null),t(e?(0,n.GP)(e,"yyyy-MM-dd"):"")},initialFocus:!0})})]})}var h=a(12854),y=a(56186),g=a(74038);let v=(e,t,a)=>(0,r.jsx)(r.Fragment,{children:"date"===e.type?(0,r.jsx)(f,{onChange:e=>t(e),value:e.value,...e}):"textarea"===e.type?(0,r.jsx)(g.T,{onChange:e=>t(e.target.value),value:e.value||"",...e}):"combobox"===e.type?(0,r.jsx)(y.u,{items:a[e.data_name]?.map(e=>({label:e.name,value:e.id.toString()}))||[],selectedItem:{label:e.value?.name,value:e.value?.id},onChange:e=>t(+e)}):(0,r.jsx)(h.p,{value:e.value,onChange:e=>t(e.target.value),...e,placeholder:""})})},56186:(e,t,a)=>{"use strict";a.d(t,{u:()=>y});var r=a(45512),s=a(58009),n=a(6733),i=a(98755),o=a(28638),d=a(24849),l=a(2743);let c=n.bL;n.YJ;let u=n.WT,p=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(n.l9,{ref:s,className:(0,l.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,(0,r.jsx)(n.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=n.l9.displayName;let m=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.PP,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(o.A,{className:"h-4 w-4"})}));m.displayName=n.PP.displayName;let x=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.wn,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})}));x.displayName=n.wn.displayName;let f=s.forwardRef(({className:e,children:t,position:a="popper",...s},i)=>(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{ref:i,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[(0,r.jsx)(m,{}),(0,r.jsx)(n.LM,{className:(0,l.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(x,{})]})}));f.displayName=n.UC.displayName,s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.JU,{ref:a,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=n.JU.displayName;let h=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(n.q7,{ref:s,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:t})]}));h.displayName=n.q7.displayName,s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.wv,{ref:a,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.wv.displayName;let y=({placeholder:e,items:t,selectedItem:a,onChange:s})=>(0,r.jsxs)(c,{onValueChange:s,children:[(0,r.jsx)(p,{className:"w-[100%]",children:(0,r.jsx)(u,{placeholder:a?.label||e})}),(0,r.jsx)(f,{children:t.map(e=>(0,r.jsx)(h,{value:e.value,children:e.label},e.value))})]})},74864:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var r=a(45512),s=a(58009),n=a(92405),i=a(21643),o=a(2743);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(n.b,{ref:a,className:(0,o.cn)(d(),e),...t}));l.displayName=n.b.displayName},74038:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var r=a(45512),s=a(58009),n=a(2743);let i=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));i.displayName="Textarea"},95972:e=>{e.exports={"organizations-create":"OrganizationsCreate_organizations-create__q6YVj","organizations-create__form":"OrganizationsCreate_organizations-create__form__MY3QC"}},33492:(e,t,a)=>{"use strict";a.d(t,{OrganizationsCreate:()=>r});let r=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call OrganizationsCreate() from the server but OrganizationsCreate is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Mangos\\mangos_client_02\\src\\_pages\\Organizations\\Create\\OrganizationsCreate.tsx","OrganizationsCreate")},3521:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(62740),s=a(33492);function n(){return(0,r.jsx)(s.OrganizationsCreate,{})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,812,105,85],()=>a(23191));module.exports=r})();