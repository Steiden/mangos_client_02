(()=>{var e={};e.id=147,e.ids=[147],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},77753:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>l,routeModule:()=>x,tree:()=>o});var t=r(70260),a=r(28203),i=r(25155),n=r.n(i),c=r(67292),d={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);r.d(s,d);let o=["",{children:["tasks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,69016)),"D:\\Mangos\\mangos_client_02\\src\\app\\tasks\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,35597)),"D:\\Mangos\\mangos_client_02\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,50042)),"D:\\Mangos\\mangos_client_02\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["D:\\Mangos\\mangos_client_02\\src\\app\\tasks\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/tasks/page",pathname:"/tasks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},96786:(e,s,r)=>{Promise.resolve().then(r.bind(r,62001))},59994:(e,s,r)=>{Promise.resolve().then(r.bind(r,5442))},17033:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(41680).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},49656:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(41680).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5442:(e,s,r)=>{"use strict";r.d(s,{Tasks:()=>M});var t=r(45512),a=r(24540),i=r(41747),n=r.n(i),c=r(82281),d=r(79334),o=r(58009),l=r(2743);let p=o.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...s}));p.displayName="Card";let x=o.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));x.displayName="CardHeader",o.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,l.cn)("font-semibold leading-none tracking-tight",e),...s})).displayName="CardTitle";let u=o.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));u.displayName="CardDescription";let m=o.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",e),...s}));m.displayName="CardContent";let _=o.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s}));_.displayName="CardFooter";var h=r(23041),k=r.n(h),f=r(98838),v=r(55397),j=r(17033);let g=(0,r(41680).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var y=r(49656),N=r(53932),b=r(28473),A=r(6736),w=r(84514),q=r(54215),C=r(97104);let P=e=>new Date(e).toLocaleDateString(),T=({task:e})=>{let s=(0,d.useRouter)(),{toast:r}=(0,A.dj)(),{setTask:i}=(0,q.U)(),{updateProject:n}=(0,w.Om)(),[o]=(0,b.Mj)("token",""),{created_at:l,finished_at:h,execution_status:T,task_priority:M,updated_at:R,user:D}=e,E=async()=>{let r=await (0,f.Jt)(e.id,o);r.success&&(i(r.data),s.push(`/tasks/${e.id}`))},G=async()=>{if(!(await (0,f.TF)(e.id,o)).success){r({title:"Удаление задачи",description:"Произошла ошибка при удалении задачи. Попробуйте позже"});return}n(),r({title:"Удаление задачи",description:"Задача успешно удалена"})};return(0,t.jsxs)(p,{className:(0,c.A)("min-w-[300px]",k()["task-card"]),children:[(0,t.jsxs)(v.AM,{children:[(0,t.jsx)(v.Wv,{className:(0,c.A)(k()["task-card__popover"]),children:(0,t.jsx)(j.A,{})}),(0,t.jsxs)(N.hl,{className:"flex flex-col gap-1 bg-white p-1 border-2 rounded-xl",children:[(0,t.jsxs)(a.$,{variant:"ghost",className:"justify-start h-[30px]",onClick:E,children:[(0,t.jsx)(g,{}),"Посмотреть"]}),(0,t.jsxs)(a.$,{variant:"ghost",className:"justify-start h-[30px]",onClick:G,children:[(0,t.jsx)(y.A,{}),"Удалить"]})]})]}),(0,t.jsx)(x,{className:"task-card__header",children:(0,t.jsx)(u,{children:P(l)})}),(0,t.jsxs)(m,{className:"flex flex-col gap-2",children:[(0,t.jsxs)("p",{className:(0,c.A)(k()["task-card__text"]),children:["Срок:"," ",(0,t.jsx)("span",{className:(0,c.A)(k()["task-card__span"]),children:P(h)})]}),(0,t.jsxs)("p",{className:(0,c.A)(k()["task-card__text"]),children:["Статус:"," ",(0,t.jsx)("span",{className:(0,c.A)(k()["task-card__span"]),children:T.caption})]}),(0,t.jsxs)("p",{className:(0,c.A)(k()["task-card__text"]),children:["Приоритет:"," ",(0,t.jsx)("span",{className:(0,c.A)(k()["task-card__span"]),children:M.name})]})]}),(0,t.jsxs)(_,{className:"flex flex-col gap-2 items-start",children:[(0,t.jsxs)("p",{className:(0,c.A)(k()["task-card__text"]),children:["Обновлено:"," ",(0,t.jsx)("span",{className:(0,c.A)(k()["task-card__span"]),children:P(R)})]}),(0,t.jsx)(C.l,{type:"name",user:D})]})]})},M=()=>{let e=(0,d.useRouter)(),{project:s}=(0,w.Om)();return(0,t.jsxs)("section",{className:(0,c.A)("std-page",n().tasks),children:[(0,t.jsx)("h1",{className:(0,c.A)("std-h1",n().tasks__title),children:"Задачи"}),(0,t.jsxs)("div",{className:(0,c.A)("std-container","std-page__content"),children:[(0,t.jsx)(a.$,{variant:"outline",className:"self-end",onClick:()=>e.push("/tasks/create"),children:"Создать задачу"}),(0,t.jsx)("div",{className:(0,c.A)("std-container",n()["tasks__card-grid"]),children:s?.tasks?.map(e=>t.jsx(T,{task:e},e.id))})]})]})}},41747:e=>{e.exports={"tasks__card-grid":"Tasks_tasks__card-grid__34vbh"}},23041:e=>{e.exports={"task-card":"TaskCard_task-card__5RbBw","task-card__header":"TaskCard_task-card__header__4IUKx","task-card__popover":"TaskCard_task-card__popover__BRh_r"}},62001:(e,s,r)=>{"use strict";r.d(s,{Tasks:()=>t});let t=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call Tasks() from the server but Tasks is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Mangos\\mangos_client_02\\src\\_pages\\Tasks\\Tasks.tsx","Tasks")},69016:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(62740),a=r(62001);function i(){return(0,t.jsx)(a.Tasks,{})}}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[638,812,85],()=>r(77753));module.exports=t})();