(()=>{var e={};e.id=859,e.ids=[859],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},25079:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>u});var s=r(70260),a=r(28203),n=r(25155),o=r.n(n),i=r(67292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let u=["",{children:["auth",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,29392)),"D:\\Mangos\\mangos_client_02\\src\\app\\auth\\login\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,42813))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,35597)),"D:\\Mangos\\mangos_client_02\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,50042)),"D:\\Mangos\\mangos_client_02\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,42813))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\Mangos\\mangos_client_02\\src\\app\\auth\\login\\page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/auth/login/page",pathname:"/auth/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},38850:(e,t,r)=>{Promise.resolve().then(r.bind(r,8579))},57002:(e,t,r)=>{Promise.resolve().then(r.bind(r,38345))},74864:(e,t,r)=>{"use strict";r.d(t,{J:()=>u});var s=r(45512),a=r(58009),n=r(92405),o=r(21643),i=r(2743);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(n.b,{ref:r,className:(0,i.cn)(l(),e),...t}));u.displayName=n.b.displayName},38345:(e,t,r)=>{"use strict";r.d(t,{Login:()=>v});var s=r(45512),a=r(842),n=r.n(a),o=r(82281),i=r(79572),l=r(12854),u=r(74864),c=r(24540),d=r(58009),p=r(10780),h=r(84514),_=r(28473),m=r(6736),x=r(79334);let g=[{type:"text",id:"login",placeholder:"Логин",autoComplete:"login",name:"login"},{type:"password",id:"password",placeholder:"Пароль",autoComplete:"current-password",name:"password"}],v=()=>{let{toast:e}=(0,m.dj)(),t=(0,x.useRouter)(),{setUser:r}=(0,h.ur)(),[,a]=(0,_.Mj)("token",""),[v,f]=(0,d.useState)({login:"",password:""}),b=async()=>{let e=await (0,p.i)(v);return e.success?(a(e.data.token),e.data.token):null},w=async e=>{let t=await (0,p.me)(e);return!!t.success&&(r(t.data),!0)},j=async r=>{r.preventDefault();let s=await b();if(!s){e({variant:"destructive",title:"Вход",description:"Вы ввели неправильный логин или пароль"});return}if(!await w(s)){e({variant:"destructive",title:"Вход",description:"Ошибка при авторизации. Попробуйте позже"});return}e({title:"Вход",description:"Вы успешно авторизованы"}),t.push("/")};return(0,s.jsx)(i._,{children:(0,s.jsxs)("form",{className:(0,o.A)("std-container",n().auth__form),onSubmit:j,children:[(0,s.jsx)("h1",{className:"std-h1",children:"Вход"}),(0,s.jsx)("div",{className:n()["auth__form-fields"],children:g.map(e=>(0,s.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,s.jsx)(u.J,{htmlFor:e.name,children:e.placeholder}),(0,s.jsx)(l.p,{...e,placeholder:"",onChange:t=>f({...v,[e.name||""]:t.target.value})})]},e.id))}),(0,s.jsx)(c.$,{type:"submit",variant:"outline",className:"std-button",children:"Войти"}),(0,s.jsx)(c.$,{type:"button",variant:"link",children:"Забыли пароль?"})]})})}},79572:(e,t,r)=>{"use strict";r.d(t,{_:()=>c});var s=r(45512),a=r(99727),n=r(45700),o=r.n(n),i=r(45103),l=r(82281),u=r(89847);let c=({children:e})=>{let t=(0,u.W)();return(0,s.jsxs)("section",{className:(0,l.A)("std-container",o()["auth-container"]),children:[!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,l.A)(o()["auth-container__logo-container"]),children:(0,s.jsx)(i.default,{src:"/logo_alt.svg",alt:"logo",width:200,height:200,className:(0,l.A)(o()["auth-container__logo"])})}),(0,s.jsx)(a.w,{orientation:t?"horizontal":"vertical",decorative:!0,color:"text.primary",className:(0,l.A)(o()["auth-container__separator"])})]}),(0,s.jsx)("div",{className:(0,l.A)(o()["auth-container__content"]),children:e})]})}},842:e=>{e.exports={auth__form:"Auth_auth__form__1zZIt","auth__form-fields":"Auth_auth__form-fields__1acO2"}},45700:e=>{e.exports={"auth-container":"AuthContainer_auth-container__0zpte","auth-container__logo-container":"AuthContainer_auth-container__logo-container__HdD9x","auth-container__content":"AuthContainer_auth-container__content__4PhJV","auth-container__logo":"AuthContainer_auth-container__logo__ykVhh","auth-container__separator":"AuthContainer_auth-container__separator__xl94l"}},29392:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(62740),a=r(8579);function n(){return(0,s.jsx)(a.Login,{})}},8579:(e,t,r)=>{"use strict";r.d(t,{Login:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call Login() from the server but Login is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Mangos\\mangos_client_02\\src\\views\\Auth\\Login\\Login.tsx","Login")},92405:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var s=r(58009),a=r(18055),n=r(45512),o=s.forwardRef((e,t)=>(0,n.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var i=o}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,812,184],()=>r(25079));module.exports=s})();