exports.id=258,exports.ids=[258],exports.modules={20951:(e,a,t)=>{"use strict";t.d(a,{TF:()=>l,vt:()=>i,yo:()=>d});var s=t(98261),r=t(72043),n=t(36092);async function i(e,a){try{return(await s.FH.post(r.v.organization_employees,e,(0,s.zP)(a))).data}catch(e){return(0,n.N)(e)}}async function d(e,a,t){try{return(await s.FH.put(`${r.v.organization_employees}/${e}`,a,(0,s.zP)(t))).data}catch(e){return(0,n.N)(e)}}async function l(e,a){try{return(await s.FH.delete(`${r.v.organization_employees}/${e}`,(0,s.zP)(a))).data}catch(e){return(0,n.N)(e)}}},53568:(e,a,t)=>{"use strict";t.d(a,{h:()=>v});var s=t(45512),r=t(58009),n=t(47085),i=t(45723),d=t(44195),l=t(24540),o=t(52706),c=t(99905),u=t(50983),m=t(2743);function p({className:e,classNames:a,showOutsideDays:t=!0,...r}){return(0,s.jsx)(u.hv,{showOutsideDays:t,className:(0,m.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,m.cn)((0,l.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:(0,m.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===r.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,m.cn)((0,l.r)({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:({...e})=>(0,s.jsx)(o.A,{className:"h-4 w-4"}),IconRight:({...e})=>(0,s.jsx)(c.A,{className:"h-4 w-4"})},...r})}p.displayName="Calendar";var f=t(55397);function x({value:e,onChange:a}){let[t,o]=r.useState(e);return(0,s.jsxs)(f.AM,{children:[(0,s.jsx)(f.Wv,{asChild:!0,children:(0,s.jsxs)(l.$,{variant:"outline",className:(0,d.cn)("w-[240px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[(0,s.jsx)(i.A,{}),t?(0,n.GP)(t,"PPP"):(0,s.jsx)("span",{children:"Выберите дату"})]})}),(0,s.jsx)(f.hl,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(p,{mode:"single",selected:t||void 0,onSelect:e=>{o(e||null),a(e?(0,n.GP)(e,"yyyy-MM-dd"):"")},initialFocus:!0})})]})}var h=t(12854),y=t(56186),g=t(74038);let v=(e,a,t)=>(0,s.jsx)(s.Fragment,{children:"date"===e.type?(0,s.jsx)(x,{onChange:e=>a(e),value:e.value,...e}):"textarea"===e.type?(0,s.jsx)(g.T,{onChange:e=>a(e.target.value),value:e.value||"",...e}):"combobox"===e.type?(0,s.jsx)(y.u,{items:t[e.data_name]?.map(e=>({label:e.name,value:e.id.toString()}))||[],selectedItem:{label:e.value?.name,value:e.value?.id},onChange:e=>a(+e)}):(0,s.jsx)(h.p,{value:e.value,onChange:e=>a(e.target.value),...e,placeholder:""})})},56186:(e,a,t)=>{"use strict";t.d(a,{u:()=>y});var s=t(45512),r=t(58009),n=t(6733),i=t(98755),d=t(28638),l=t(24849),o=t(2743);let c=n.bL;n.YJ;let u=n.WT,m=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(n.l9,{ref:r,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[a,(0,s.jsx)(n.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=n.l9.displayName;let p=r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(n.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,s.jsx)(d.A,{className:"h-4 w-4"})}));p.displayName=n.PP.displayName;let f=r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(n.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}));f.displayName=n.wn.displayName;let x=r.forwardRef(({className:e,children:a,position:t="popper",...r},i)=>(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[(0,s.jsx)(p,{}),(0,s.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(f,{})]})}));x.displayName=n.UC.displayName,r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(n.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",e),...a})).displayName=n.JU.displayName;let h=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(n.q7,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})}),(0,s.jsx)(n.p4,{children:a})]}));h.displayName=n.q7.displayName,r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(n.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=n.wv.displayName;let y=({placeholder:e,items:a,selectedItem:t,onChange:r})=>(0,s.jsxs)(c,{onValueChange:r,children:[(0,s.jsx)(m,{className:"w-[100%]",children:(0,s.jsx)(u,{placeholder:t?.label||e})}),(0,s.jsx)(x,{children:a.map(e=>(0,s.jsx)(h,{value:e.value,children:e.label},e.value))})]})},74864:(e,a,t)=>{"use strict";t.d(a,{J:()=>o});var s=t(45512),r=t(58009),n=t(92405),i=t(21643),d=t(2743);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(n.b,{ref:t,className:(0,d.cn)(l(),e),...a}));o.displayName=n.b.displayName},6440:(e,a,t)=>{"use strict";t.d(a,{Xi:()=>o,av:()=>c,j7:()=>l,tU:()=>d});var s=t(45512),r=t(58009),n=t(99597),i=t(2743);let d=n.bL,l=r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(n.B8,{ref:t,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...a}));l.displayName=n.B8.displayName;let o=r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(n.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...a}));o.displayName=n.l9.displayName;let c=r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(n.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));c.displayName=n.UC.displayName},74038:(e,a,t)=>{"use strict";t.d(a,{T:()=>i});var s=t(45512),r=t(58009),n=t(2743);let i=r.forwardRef(({className:e,...a},t)=>(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...a}));i.displayName="Textarea"},7121:(e,a,t)=>{"use strict";t.d(a,{A:()=>N});var s=t(45512),r=t(90161),n=t.n(r),i=t(82281),d=t(55397),l=t(17033),o=t(13564),c=t(49656),u=t(24540),m=t(28473),p=t(6736),f=t(84514),x=t(56023),h=t(54215),y=t(79573),g=t(16125),v=t(20951),b=t(41692),j=t(56186),w=t(58009);let N=({member:e,isActions:a=!0,size:t="medium",className:r,...N})=>{let{toast:_}=(0,p.dj)(),{updateTask:C}=(0,h.U)(),{project:A,updateProject:U}=(0,f.Om)(),{organization:z,updateOrganization:R}=(0,f.Wf)(),{user:M}=(0,f.ur)(),[F]=(0,m.Mj)("token",""),[P,T]=(0,w.useState)(0),$=async()=>{if(!(await (0,g.TF)(e.id,F)).success){_({variant:"destructive",title:"Удаление сотрудника из проекта",description:"Не удалось удалить сотрудника из проекта. Попробуйте позже"});return}U(),R(),_({title:"Удаление сотрудника из проекта",description:"Сотрудник удален из проекта"})},k=async()=>{if(!(await (0,y.TF)(e.id,F)).success){_({variant:"destructive",title:"Удаление сотрудника из задачи",description:"Не удалось удалить сотрудника из задачи. Попробуйте позже"});return}C(),U(),R(),_({title:"Удаление сотрудника из задачи",description:"Сотрудник удален из задачи"})},I=async()=>{if(!(await (0,v.TF)(e.id,F)).success){_({variant:"destructive",title:"Удаление сотрудника из организации",description:"Не удалось удалить сотрудника из организации. Попробуйте позже"});return}U(),R(),_({title:"Удаление сотрудника из организации",description:"Сотрудник удален из организации"})},L=async(e,a)=>{e.preventDefault();let t={...a,post_id:P};if(!(await (0,v.yo)(a.id,t,F)).success){_({variant:"destructive",title:"Редактирование сотрудника",description:"Не удалось редактировать сотрудника. Попробуйте позже"});return}R(),_({title:"Редактирование сотрудника",description:"Информация о сотруднике успешно изменена"})};return(0,s.jsxs)("div",{className:(0,i.A)(n().card,n()[`card--${t}`],r),...N,children:[(0,s.jsxs)("div",{className:(0,i.A)(n().card__content),children:[(0,s.jsxs)(x.eu,{children:[(0,s.jsx)(x.BK,{src:e.user?.avatar||"",alt:"avatar"}),(0,s.jsx)(x.q5,{children:e.user?.login?.split("")[0].toUpperCase()})]}),(0,s.jsxs)("div",{className:(0,i.A)(n().card__info),children:[(0,s.jsxs)("span",{children:[e.user?.first_name," ",e.user?.second_name]}),"organization"in e&&(0,s.jsx)("span",{className:"text-xs",children:e.post?.name})]})]}),(0,s.jsx)("div",{className:(0,i.A)(n().card__actions),children:a&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(d.AM,{children:[(0,s.jsx)(d.Wv,{children:(0,s.jsx)(l.A,{})}),(0,s.jsxs)(d.hl,{className:"flex flex-col gap-1 bg-white p-1 border-2 rounded-xl w-[auto]",children:[M?.id===A?.user.id&&"organization"in e&&(0,s.jsxs)(b.lG,{children:[(0,s.jsxs)(b.zM,{className:(0,i.A)((0,u.r)({variant:"ghost"}),"justify-start h-[30px]"),children:[(0,s.jsx)(o.A,{}),"Редактировать"]}),(0,s.jsxs)(b.Cf,{children:[(0,s.jsx)(b.c7,{children:(0,s.jsx)(b.L3,{children:"Редактарование сотрудника"})}),(0,s.jsxs)("form",{className:"flex flex-col gap-2",onSubmit:a=>L(a,e),children:[(0,s.jsx)(j.u,{placeholder:"Выберите должность",items:z?.posts.map(e=>({label:e.name,value:e.id.toString()}))||[],selectedItem:{label:e.post?.name,value:e.post?.id?.toString()},onChange:e=>T(+e)}),(0,s.jsx)(u.$,{variant:"outline",type:"submit",className:"std-button w-fit self-center",children:"Редактировать"})]})]})]}),(0,s.jsxs)(u.$,{variant:"ghost",className:"justify-start h-[30px]",onClick:"organization"in e?I:"task"in e?k:$,children:[(0,s.jsx)(c.A,{}),"Удалить"]})]})]})})})]})}},90161:e=>{e.exports={card:"UserMemberCard_card__uW1J0","card--small":"UserMemberCard_card--small__lORLC","card--large":"UserMemberCard_card--large__32K3Q",card__content:"UserMemberCard_card__content__OyqI2",card__info:"UserMemberCard_card__info__OIEOj",card__actions:"UserMemberCard_card__actions__pQpm3"}}};